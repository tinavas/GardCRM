###########################################################################################
#
#  EXAMPLE RAVEN FORMSET
#
#  Formsets can override any default settings (raven.yaml) EXCEPT master_killswitch
#
###########################################################################################

# Location (from root) to save form submissions
submission_save_path: _content/forms/

# Fields allowed to be submitted in the form, automatically
# purging anything and everything else
allowed:
  - member
  - title
  - contact_name
  - role
  - contact_phone
  - contact_mobile
  - contact_email
  - company_phone
  - company_fax
  - company_email
  - website
  - company_name
  - customer_number
  - address_line_1
  - address_line_2
  - address_line_3
  - city
  - region
  - postcode
  - country
  - notes
  - where
  - logo

# You are not required to require fields, but once you do, any missing
# from the POST will squash this submission and send a list of
# missing fields to your {{ raven:errors }} tagpair
required:
  - member
  - title
  - contact_name
  - company_name
  - postcode
  - city
  - logo

submission_save_extension: md

# Apply validation rules to specific fields. Refer to documentation
# for a full list of available rules and their format
validate:
  name: alpha
  website: url
  years: int

# Error messages can be mapped to your fields and passed to the
# template upon failure. They will be available here:
#
# {{ raven:error }}
#     {{ invalid }}
#         {{ field }} : {{ message }}
#     {{ /invalid }}
# {{ /raven:error }}
#
messages:
  name: "Must be made of letters. Who named you?"
  website: "That's not a website. Are you from the past?"
  years: "That needs to be a number"

# Configure notification email
email:
  to: guy@example.com
  from: dude@example.com
  subject: The raven has flown
  automagic: true
  # html_template: html_email
  # text_template: text_email

datestamp_format: "m/d/Y"

control_panel:
  fields:
    - contact_name
    - website
    - email
    - postcode
    - years
  metrics:
    -
      type: average
      field: years
      label: Average Years Stranded
    - 
      type: sum
      field: years
      label: Total Years Stranded

upload_destination: /assets/